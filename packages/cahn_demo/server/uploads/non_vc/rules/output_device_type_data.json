{
  "type": "rule",
  "id": "b1c2d3e4-f5g5-7h89-i0j1-2k3l4m5n6o7p",
  "timestamp": 1724315234564,
  "rule": "output_device_type_data(DeviceTypeId, DeviceTypeData) :-\n    device_type(CreatedAtDeviceType, DeviceTypeId, DeviceType),\n    \n    % Retrieve device data for devices of this type, allowing for missing information\n    findall(DeviceData, (\n        is_of_device_type(_, DeviceId, DeviceTypeId),\n        device(_, DeviceId, Idevid, Name),\n        \n        % Optional manufacturer information\n        (manufactured(CreatedAtManufactured, DeviceTypeId, ManufacturerId) ->\n            (manufacturer(CreatedAtManufacturer, ManufacturerId, Manufacturer) -> true ; Manufacturer = unknown)\n        ;\n            CreatedAtManufactured = unknown, ManufacturerId = unknown, CreatedAtManufacturer = unknown, Manufacturer = unknown\n        ),\n        \n        format(atom(DeviceData), 'DEVICE(DeviceId: ~w, Idevid: ~w, Name: ~w, ManufacturerId: ~w, Manufacturer: ~w)', \n               [DeviceId, Idevid, Name, ManufacturerId, Manufacturer])\n    ), DeviceDataList),\n    \n    % Format the output\n    format(atom(DeviceTypeData), 'CreatedAtDeviceType: ~w, DeviceTypeId: ~w, DeviceType: ~w, Devices: ~w', \n           [CreatedAtDeviceType, DeviceTypeId, DeviceType, DeviceDataList])."
}
